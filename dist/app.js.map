{"version":3,"sources":["../src/app.js"],"names":["app","router","prefix","use","routes","allowedMethods","name","level","requestIdContext","requestLogger","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA,IAAMA,MAAM,mBAAZ;AACA,IAAMC,SAAS,wBAAW;AACxBC,UAAQ;AADgB,CAAX,CAAf;;AAIAD,OAAOE,GAAP,CAAW,eAAQC,MAAR,EAAX,EAA6B,eAAQC,cAAR,EAA7B;;AAEAL,IACGG,GADH,CACO,+BAAO;AACVG,QAAM,aADI;AAEVC,SAAO;AAFG,CAAP,CADP,EAKGJ,GALH,CAKO,0BAAOK,gBAAP,EALP,EAMGL,GANH,CAMO,0BAAOM,aAAP,EANP,EAOGN,GAPH,CAOOF,OAAOG,MAAP,EAPP,EAQGD,GARH,CAQOF,OAAOI,cAAP,EARP;;AAUA,cAAK,YAAM;AACTL,MAAIU,MAAJ,CAAW,IAAX;AACD,CAFD","file":"app.js","sourcesContent":["import Koa from 'koa';\nimport Router from 'koa-router';\nimport logger from 'koa-bunyan-logger';\n\nimport BookApi from './api/book.api';\nimport { init } from './db';\n\nconst app = new Koa();\nconst router = new Router({\n  prefix: '/api/v1',\n});\n\nrouter.use(BookApi.routes(), BookApi.allowedMethods());\n\napp\n  .use(logger({\n    name: 'book-spider',\n    level: 'debug',\n  }))\n  .use(logger.requestIdContext())\n  .use(logger.requestLogger())\n  .use(router.routes())\n  .use(router.allowedMethods());\n\ninit(() => {\n  app.listen(3000);\n});\n"]}